<!DOCTYPE html>
<html>

<head>
    <title>OpenUI5 CKEditor</title>
    <style>
    html, body, #sample1, #map1 {
        max-width: 520px;
        height: 90%;
        vertical-align: top;
        padding-top: 14px;
        padding-bottom: 14px;
    }
    </style>

    <script id="sap-ui-bootstrap" type="text/javascript" src="http://localhost:8001/sapui5/latest/resources/sap-ui-core.js" data-sap-ui-libs="sap.ui.commons" data-sap-ui-theme="sap_goldreflection">
    </script>
    <script type="text/javascript">
    jQuery.sap.registerResourcePath('google.maps', '//maps.googleapis.com/maps/api/js?sensor=false');
    sap.ui.localResources("openui5");
    jQuery.sap.require("openui5.GmMarker");
    jQuery.sap.require("openui5.GmPolyline");
    jQuery.sap.require("openui5.GmPolygon");
    jQuery.sap.require("openui5.GmMap");

    var beaches = [{
        name: 'Manly Beach',
        lat: -33.80010128657071,
        lng: 151.28747820854187
    }, {
        name: 'Bondi Beach',
        lat: -33.890542,
        lng: 151.274856
    }, {
        name: 'Coogee Beach',
        lat: -33.923036,
        lng: 151.259052
    }, {
        name: 'Maroubra Beach',
        lat: -33.950198,
        lng: 151.259302
    }, {
        name: 'Cronulla Beach',
        lat: -34.055555,
        lng: 151.1551
    }];

    var center = {
        lat: -33.920,
        lng: 151.2
    };

    var path = [];
    beaches.forEach(function(obj) {
        path.push({
            lat: obj.lat,
            lng: obj.lng
        });
    });

    var paths = [path[3],path[4],center];


    var oModel = new sap.ui.model.json.JSONModel({
        beaches: beaches
    });
    sap.ui.getCore().setModel(oModel);

    var oMarkers = new openui5.GmMarker({
        lat: '{lat}',
        lng: '{lng}',
        info: '{name}',
        icon: '{http://www.w3schools.com/googleapi/pinkball.png}',
        draggable: true
    });

    var lineSymbol = {
        path: 'M 0,-1 0,1',
        strokeOpacity: 0.5,
        scale: 4
    };

    var oPolyline = new openui5.GmPolyline({
        path: path,
        strokeColor: "#0000FF",
        strokeOpacity: 0.5,
        strokeWeight: 0.2,
        icons: [{
            icon: lineSymbol,
            offset: '0',
            repeat: '20px'
        }]
    });


var oPolygon = new openui5.GmPolygon({
    paths: paths,
    strokeColor: '#FF0000',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: '#FF0000',
    fillOpacity: 0.35
  });

    var map = new openui5.GmMap("map1", {
        center: center,
        zoom: 11,
        polylines: [oPolyline],
        polygons: [oPolygon]
    });

    map.setModel(oModel);
    map.bindMarkers({
        path: "/beaches",
        template: oMarkers
    });
    map.placeAt("sample1");
    </script>
</head>

<body>

    <div id="sample1"></div>

</body>

</html>
