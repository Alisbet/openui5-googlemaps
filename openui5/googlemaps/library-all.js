sap.ui.define(["jquery.sap.global","sap/ui/core/Core","sap/ui/core/library"],function(e){"use strict";return function(){var o=e.sap.getResourcePath("openui5/googlemaps/loadScripts");e.sap.registerResourcePath("google.maps",o),sap.ui.getCore().initLibrary({name:"openui5.googlemaps",dependencies:["sap.ui.core"],types:[],interfaces:[],controls:["openui5.googlemaps.Map","openui5.googlemaps.Marker","openui5.googlemaps.Polyline","openui5.googlemaps.Polygon"],elements:[],version:"0.0.0"})}(),!0},!0);
!function(o,a){"use strict";if(o.google=o.google||{},google.maps=google.maps||{},!google.maps.callback){google.maps.callback=function(){google.maps.loaded=!0,sap.ui.getCore().getEventBus().publish("google.maps.loaded")},google.maps.Animation={BOUNCE:1,DROP:2,k:3,j:4},google.maps.MapTypeId={ROADMAP:"roadmap",SATELLITE:"satellite",HYBRID:"hybrid",TERRAIN:"terrain"};var l="http://maps.google.com/maps/api/js?sensor=true&callback=google.maps.callback";o.GMAPS_API_KEY&&(l=l+"&key="+o.GMAPS_API_KEY),a.sap.includeScript(l,"google.maps",null,null)}}(window,jQuery);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils"],function(t,e,o,i){"use strict";var n=e.extend("openui5.googlemaps.Map",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"10rem"},zoom:{type:"int",bindable:"bindable",defaultValue:8},center:{type:"object",bindable:"bindable",defaultValue:{lat:48,lng:-121}},mapTypeId:{type:"string",bindable:"bindable",defaultValue:o.MapTypeId.ROADMAP},bounds:{type:"object",bindable:"bindable"},panControl:{type:"boolean",bindable:"bindable",defaultValue:!1},zoomControl:{type:"boolean",bindable:"bindable",defaultValue:!0},mapTypeControl:{type:"boolean",bindable:"bindable",defaultValue:!0}},defaultAggregation:"markers",aggregations:{markers:{type:"openui5.googlemaps.Marker",multiple:!0,bindable:"bindable"},polylines:{type:"openui5.googlemaps.Polyline",multiple:!0,bindable:"bindable"},polygons:{type:"openui5.googlemaps.Polygon",multiple:!0,bindable:"bindable"}},events:{change:{},ready:{}}},renderer:function(t,e){t.write("<div "),t.writeControlData(e),t.addStyle("width",e.getWidth()),t.addStyle("height",e.getHeight()),t.writeClasses(),t.writeStyles(),t.write(">"),t.write("<div"),t.writeAttribute("id",e.getId()+"-map"),t.addStyle("width","100%"),t.addStyle("height","100%"),t.writeStyles(),t.write(">"),t.write("</div>")}});return n.prototype.init=function(){this._dragging=!1,this.aListeners=[],this.mapId=this.getId()+"-map"},n.prototype.setZoom=function(t){this.setProperty("zoom",t,!0),this._map&&t!==this._map.getZoom()&&this._map.setZoom(t)},n.prototype.setCenter=function(t){return i.latLngEqual(this.getCenter(),t)?!0:(this.setProperty("center",t,!0),void(this._map&&!i.latLngEqual(i.latLngToObj(this._map.getCenter()),t)&&this._map.panTo(i.objToLatLng(t))))},n.prototype.setMapTypeId=function(t){this.setProperty("mapTypeId",t,!0),this._map&&t!==this._map.getMapTypeId()&&this._map.setMapTypeId(t)},n.prototype.setBounds=function(t){this.setProperty("bounds",t,!0),this._map&&!i.latLngEqual(this._map.getBounds(),t)},n.prototype.setPanControl=function(t){this.setProperty("panControl",t,!0),this._map&&t!==this._map.getPanControl()&&this._map.setPanControl(t)},n.prototype.setZoomControl=function(t){this.setProperty("zoomControl",t,!0),this._map&&t!==this._map.getZoomControl()&&this._map.setZoomControl(t)},n.prototype.setMapTypeControl=function(t){this.setProperty("mapTypeControl",t,!0),this._map&&t!==this._map.getMapTypeControl()&&this._map.setMapTypeControl(t)},n.prototype._getMapOptions=function(){var t={};return t.zoom=this.getZoom(),t.center=i.objToLatLng(this.getCenter()),t.mapTypeId=this.getMapTypeId(),t.panControl=this.getPanControl(),t.zoomControl=this.getZoomControl(),t.mapTypeControl=this.getMapTypeControl(),t},n.prototype.onAfterRendering=function(){this._map&&this.resetMap(),this.createMap()},n.prototype.createMap=function(){return void 0===o.loaded?(sap.ui.getCore().getEventBus().subscribe("google.maps.loaded",this.createMap,this),!1):(this._map=new o.Map(t.sap.byId(this.mapId)[0],this._getMapOptions()),this.addListener("drag",t.proxy(this.updateValues,this)),this.addListener("zoom_changed",t.proxy(this.updateValues,this)),this.addListener("center_changed",t.proxy(this.updateValues,this)),this.addListener("bounds_changed",t.proxy(this.updateValues,this)),this.addListener("maptypeid_changed",t.proxy(this.updateValues,this)),this.addListener("resize",t.proxy(this.updateValues,this)),this._notifyMarkers("MapRendered",this._map),this._notifyPolylines("MapRendered",this._map),void this._notifyPolygons("MapRendered",this._map))},n.prototype.addListener=function(t,e){this.aListeners.push(o.event.addListener(this._map,t,e))},n.prototype.removeListeners=function(){this.aListeners.forEach(function(t){t.remove()}),this.aListeners=[]},n.prototype.trigger=function(t){o.event.trigger(this._map,t)},n.prototype.isDragging=function(){this._dragging=!0},n.prototype.isNotDragging=function(){this._dragging=!1},n.prototype.updateValues=function(){i.latLngToObj(this._map.getCenter())!==this.getCenter()&&this.setCenter(i.latLngToObj(this._map.getCenter())),this._map.getZoom()!==this.getZoom()&&this.setZoom(this._map.getZoom()),this._map.getMapTypeId()!==this.getMapTypeId()&&this.setMapTypeId(this._map.getMapTypeId()),this._map.getBounds()!==this.getBounds()&&this.setBounds(this._map.getBounds())},n.prototype.getMarkers=function(){return this.getAggregation("markers",[])},n.prototype._notifyMarkers=function(t,e){this.getMarkers().forEach(function(o){o["on"+t](e)})},n.prototype.getPolylines=function(){return this.getAggregation("polylines",[])},n.prototype._notifyPolylines=function(t,e){this.getPolylines().forEach(function(o){o["on"+t](e)})},n.prototype._notifyPolygons=function(t,e){this.getPolygons().forEach(function(o){o["on"+t](e)})},n.prototype.resetMap=function(){this.removeListeners(),this._map.set(null)},n.prototype.exit=function(){this.resetMap(),this.init()},n},!0);
sap.ui.define(["jquery.sap.global","google.maps"],function(t,n){"use strict";var a={};return a.objToLatLng=function(t){return new n.LatLng(t.lat,t.lng)},a.latLngToObj=function(t){return{lat:t.lat(),lng:t.lng()}},a.floatEqual=function(t,n){return Math.abs(t-n)<1e-6},a.latLngEqual=function(t,n){return this.floatEqual(t.lat,n.lat)&&this.floatEqual(t.lng,n.lng)},a},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps"],function(i,t,n){"use strict";var e=t.extend("openui5.googlemaps.Marker",{metadata:{properties:{lat:{type:"float",bindable:"bindable"},lng:{type:"float",bindable:"bindable"},draggable:{type:"boolean",bindable:"bindable",defaultValue:!1},info:{type:"string",bindable:"bindable"},icon:{type:"sap.ui.core.URI",bindable:"bindable"},animation:{type:"int",bindable:"bindable",defaultValue:n.Animation.DROP}},events:{click:{},dragEnd:{},infoWindowClose:{}},renderer:{}}});return e.prototype.init=function(){this._dragging=!1,this.aListeners=[],this.iwMaxWidth=360},e.prototype.onMapRendered=function(t){this.map=t;var e={};e.position=new n.LatLng(this.getLat(),this.getLng()),e.draggable=this.getDraggable(),e.animation=this.getAnimation(),e.icon=this.getIcon(),this.marker=new n.Marker(e),this.marker.setMap(this.map),this.addListener("click",i.proxy(this.onClick,this)),this.addListener("dragend",i.proxy(this.onDragEnd,this)),this.infoWindow=void 0,this.getInfo()&&(this.infoWindow=new n.InfoWindow({content:this.getInfo(),maxWidth:this.iwMaxWidth}),n.event.addListener(this.infoWindow,"closeclick",i.proxy(this.onInfoWindowClose,this)))},e.prototype.addListener=function(i,t){this.aListeners.push(n.event.addListener(this.marker,i,t))},e.prototype.removeListeners=function(){this.aListeners.forEach(function(i){i.remove()}),this.aListeners=[]},e.prototype.infoWindowOpen=function(t){this.infoWindow.open(this.map,this.marker),t&&i.sap.delayedCall(2e3,this,function(){this.infoWindowclose()})},e.prototype.infoWindowClose=function(){this.infoWindow.close()},e.prototype.onClick=function(){this.infoWindow&&this.infoWindowOpen(),this.fireClick({map:this.map,marker:this.marker,context:this.getBindingContext(),location:{lat:this.getLat(),lng:this.getLng()}})},e.prototype.onDragEnd=function(){var i=this.marker.getPosition();this.setLat(i.lat()),this.setLng(i.lng()),this.fireDragEnd({position:i})},e.prototype.onInfoWindowClose=function(){this.fireInfoWindowClose({})},e.prototype.exit=function(){this.removeListeners(),this.marker.setMap(null)},e},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils"],function(t,e,o,i){"use strict";var a=e.extend("openui5.googlemaps.Polygon",{metadata:{properties:{strokeColor:{type:"string",bindable:"bindable"},strokeOpacity:{type:"float",bindable:"bindable"},strokeWeight:{type:"float",bindable:"bindable"},fillColor:{type:"string",bindable:"bindable"},fillOpacity:{type:"float",bindable:"bindable"},paths:{type:"object"},draggable:{type:"boolean"}},events:{click:{},dragEnd:{}},renderer:{}}});return a.prototype.parsePaths=function(){var t=[];return this.getPaths().forEach(function(e){t.push(i.objToLatLng(e))}),t},a.prototype.createPolygon=function(){this.Polygon=new o.Polygon(this.getOptions()),this.Polygon.setMap(this.map)},a.prototype.getOptions=function(){var t={};return t.paths=this.parsePaths(),t.strokeColor=this.getStrokeColor(),t.strokeOpacity=this.getStrokeOpacity(),t.strokeWeight=this.getStrokeWeight(),t.fillOpacity=this.getFillOpacity(),t.fillColor=this.getFillColor(),t.draggable=this.getDraggable(),t},a.prototype.onMapRendered=function(t){this.map=t,this.createPolygon()},a.prototype.exit=function(){this.Polygon.setMap(null)},a},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils"],function(t,e,o,i){"use strict";var n=e.extend("openui5.googlemaps.Polyline",{metadata:{properties:{strokeColor:{type:"string",bindable:"bindable"},strokeOpacity:{type:"float",bindable:"bindable"},strokeWeight:{type:"float",bindable:"bindable"},icons:{type:"object"},path:{type:"object"},draggable:{type:"boolean"}},events:{click:{},dragEnd:{}},renderer:{}}});return n.prototype.parsePath=function(){var t=[];return this.getPath().forEach(function(e){t.push(i.objToLatLng(e))}),t},n.prototype.createPolyline=function(){this.polyline=new o.Polyline(this.getOptions()),this.polyline.setMap(this.map)},n.prototype.getOptions=function(){var t={};return t.path=this.parsePath(),t.strokeColor=this.getStrokeColor(),t.strokeOpacity=this.getStrokeOpacity(),t.strokeWeight=this.getStrokeWeight(),t.draggable=this.getDraggable(),t.icons=this.getIcons(),t},n.prototype.onMapRendered=function(t){this.map=t,this.createPolyline()},n.prototype.exit=function(){this.polyline.setMap(null)},n},!0);